<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>d3 chart spike</title>
    <script src='/resources/polymer/@webcomponents/webcomponentsjs/webcomponents-bundle.js'></script>
    <script src='/resources/polymer/web-animations-js/web-animations-next-lite.min.js'></script>
    <script type="module">
        import '/resources/polymer/@polymer/iron-flex-layout/iron-flex-layout-classes.js';
        import '/resources/components/scatter-plot/tg-scatter-plot.js'
        import '/resources/components/moment-lib.js';
    </script>
    <custom-style>
        <style include="iron-flex iron-flex-reverse iron-flex-alignment iron-flex-factors iron-positioning">
            tg-scatter-plot {
                min-width: 500px;
                min-height: 200px;
            }
        </style>
    </custom-style>
</head>

<body unresolved class="fullbleed">
    <dom-bind>
        <template is="dom-bind">
            <tg-scatter-plot id="chart" class="fit"></tg-scatter-plot>
        </template>
    </dom-bind>
    <script>
        (function () {
            window.addEventListener('WebComponentsReady', function (e) {
                const date = function (value) {
                    return moment(value, "DD/MM/YYYY").toDate();
                };

                const app = document.querySelector('dom-bind');

                app.$.chart.options = {
                    dataPropertyNames: {
                        id: d => d.id,
                        categoryProp: d => d.quality,
                        valueProp: d => new Date(d.readingDate),
                        styleProp: d => d.entryType,
                    },
                    label: "Scatter plot example",
                    xAxis: {label: "Reading date", range: [date('31/12/2023'), date('12/03/2024')]},
                    yAxis: {label: "Quality", range: ["Excelent", "Very Good", "Good", "Fair", "Poor"]},
                    margin: {
                        left: 100,
                        right: 20,
                        top: 40,
                        bottom: 60
                    },
                    click: d => {},
                    
                };
                app.$.chart.data = [
                    {id:0, quality: 'Excelent', readingDate: date('01/01/2024')},
                    {id:1, quality: 'Very Good', readingDate: date('01/02/2024')},
                    {id:2, quality: 'Good', readingDate: date('14/01/2024')},
                    {id:3, quality: 'Fair', readingDate: date('13/01/2024')},
                    {id:4, quality: 'Poor', readingDate: date('14/01/2024')},
                    {id:5, quality: 'Excelent', readingDate: date('02/02/2024')},
                    {id:6, quality: 'Excelent', readingDate: date('15/02/2024')},
                    {id:7, quality: 'Good', readingDate: date('14/02/2024')},
                    {id:8, quality: 'Fair', readingDate: date('01/03/2024')},
                    {id:9, quality: 'Poor', readingDate: date('02/03/2024')},
                    {id:10, quality: 'Poor', readingDate: date('05/03/2024')},
                    {id:11, quality: 'Very Good', readingDate: date('10/03/2024')},
                    {id:12, quality: 'Excelent', readingDate: date('11/03/2024')},
                    {id:13, quality: 'Poor', readingDate: date('09/02/2024')},
                    {id:14, quality: 'Excelent', readingDate: date('03/02/2024')},
                    {id:15, quality: 'Good', readingDate: date('24/01/2024')},
                    {id:16, quality: 'Poor', readingDate: date('29/01/2024')},
                    {id:17, quality: 'Very Good', readingDate: date('01/01/2024')},
                    {id:18, quality: 'Poor', readingDate: date('10/01/2024')},
                    {id:19, quality: 'Fair', readingDate: date('11/01/2024')},
                    {id:20, quality: 'Fair', readingDate: date('12/01/2024')},
                    {id:21, quality: 'Poor', readingDate: date('15/01/2024')},
                    {id:22, quality: 'Excelent', readingDate: date('21/02/2024')},
                    {id:23, quality: 'Excelent', readingDate: date('22/02/2024')},
                    {id:24, quality: 'Good', readingDate: date('27/02/2024')},
                    {id:25, quality: 'Good', readingDate: date('01/03/2024')}];
                
                app.$.chart.renderingHints = [
                    {entryType: {fill: "green", stroke: "#5D6D7E", "stroke-width": "2px", shape: "cricle", size: 100, "z-index": 1}},//0
                    {entryType: {fill: "orange", stroke: "#5D6D7E", "stroke-width": "2px", shape: "diamond", size: 150}},            //1
                    {entryType: {fill: "red", stroke: "#5D6D7E", "stroke-width": "2px", shape: "square", size: 70}},                 //2
                    {entryType: {fill: "yellow", stroke: "#5D6D7E", "stroke-width": "2px", shape: "cross", size: 50}},               //3
                    {entryType: {fill: "cyan", stroke: "#5D6D7E", "stroke-width": "2px", shape: "wye", size: 40}},                   //4
                    {entryType: {fill: "blue", stroke: "#5D6D7E", "stroke-width": "2px", shape: "diamond", size: 170}},              //5
                    {entryType: {fill: "maroon", stroke: "#5D6D7E", "stroke-width": "2px", shape: "star", size: 200}},               //6
                    {entryType: {fill: "purple", stroke: "#5D6D7E", "stroke-width": "2px", shape: "triangle", size: 100}},           //7
                    {entryType: {fill: "olive", stroke: "#5D6D7E", "stroke-width": "2px", shape: "square", size: 140}},              //8
                    {entryType: {fill: "magenta", stroke: "#5D6D7E", "stroke-width": "2px", shape: "star", size: 130}},              //9
                    {entryType: {fill: "lightblue", stroke: "#5D6D7E", "stroke-width": "2px", shape: "triangle", size: 120}},        //10
                    {entryType: {fill: "darkblue", stroke: "#5D6D7E", "stroke-width": "2px", shape: "circle", size: 110}},           //11
                    {entryType: {fill: "brown", stroke: "#5D6D7E", "stroke-width": "2px", shape: "cross", size: 40}},                //12
                    {entryType: {fill: "gray", stroke: "#5D6D7E", "stroke-width": "2px", shape: "cross", size: 60}},                 //13
                    {entryType: {fill: "silver", stroke: "#5D6D7E", "stroke-width": "2px", shape: "diamond", size: 70}},             //14
                    {entryType: {fill: "aquamarine", stroke: "#5D6D7E", "stroke-width": "2px", shape: "star", size: 80}},            //15
                    {entryType: {fill: "pink", stroke: "#5D6D7E", "stroke-width": "2px", shape: "triangle", size: 90}},              //16
                    {entryType: {fill: "black", stroke: "#5D6D7E", "stroke-width": "2px", shape: "wye", size: 110}},                 //17
                    {entryType: {fill: "#E9967A", stroke: "#5D6D7E", "stroke-width": "2px", shape: "wye", size: 80}},                //18
                    {entryType: {fill: "#FFD700", stroke: "#5D6D7E", "stroke-width": "2px", shape: "square", size: 70}},             //19
                    {entryType: {fill: "#D8BFD8", stroke: "#5D6D7E", "stroke-width": "2px", shape: "triangle", size: 80}},           //20
                    {entryType: {fill: "#F5DEB3", stroke: "#5D6D7E", "stroke-width": "2px", shape: "cross", size: 60}},              //21
                    {entryType: {fill: "#BC8F8F", stroke: "#5D6D7E", "stroke-width": "2px", shape: "cricle", size: 50}},             //22
                    {entryType: {fill: "#A52A2A", stroke: "#5D6D7E", "stroke-width": "2px", shape: "star", size: 80}},               //23
                    {entryType: {fill: "#87CEEB", stroke: "#5D6D7E", "stroke-width": "2px", shape: "wye", size: 90}},                //24
                    {entryType: {fill: "#7B68EE", stroke: "#5D6D7E", "stroke-width": "2px", shape: "diamond", size: 100}}];          //25
            });
        })();
      
    </script>
</body>
</html>