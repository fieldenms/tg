<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>d3 chart spike</title>
    <script src='/resources/polymer/@webcomponents/webcomponentsjs/webcomponents-bundle.js'></script>
    <script src='/resources/polymer/web-animations-js/web-animations-next-lite.min.js'></script>
    <script type="module">
        import '/resources/polymer/@polymer/iron-flex-layout/iron-flex-layout-classes.js';
        import '/resources/components/tg-scatter-plot/tg-scatter-plot.js'
        import '/resources/components/moment-lib.js';
    </script>
    <custom-style>
        <style include="iron-flex iron-flex-reverse iron-flex-alignment iron-flex-factors iron-positioning">
            tg-scatter-plot {
                min-width: 500px;
                min-height: 200px;
            }
        </style>
    </custom-style>
</head>

<body unresolved class="fullbleed">
    <dom-bind>
        <template is="dom-bind">
            <tg-scatter-plot id="chart" class="fit"></tg-scatter-plot>
        </template>
    </dom-bind>
    <script>
        (function () {
            window.addEventListener('WebComponentsReady', function (e) {
                const date = function (value) {
                    return moment(value, "DD/MM/YYYY").toDate();
                };

                const app = document.querySelector('dom-bind');

                app.$.chart.options = {
                    dataPropertyNames: {
                        id: d => d.id,
                        categoryProp: d => d.quality,
                        valueProp: d => new Date(d.readingDate),
                        styleProp: d => d.entryType,
                    },
                    label: "Scatter plot example",
                    xAxis: {label: "Reading date", range: [date('31/12/2023'), date('12/03/2024')]},
                    yAxis: {label: "Quality", range: ["Excelent", "Very Good", "Good", "Fair", "Poor"]},
                    margin: {
                        left: 100,
                        right: 20,
                        top: 40,
                        bottom: 60
                    },
                    click: d => {},
                    
                };
                app.$.chart.data = [
                    {id:0, quality: 'Excelent', readingDate: date('01/01/2024')},
                    {id:1, quality: 'Very Good', readingDate: date('01/02/2024')},
                    {id:2, quality: 'Good', readingDate: date('14/01/2024')},
                    {id:3, quality: 'Fair', readingDate: date('13/01/2024')},
                    {id:4, quality: 'Poor', readingDate: date('14/01/2024')},
                    {id:5, quality: 'Excelent', readingDate: date('02/02/2024')},
                    {id:6, quality: 'Excelent', readingDate: date('15/02/2024')},
                    {id:7, quality: 'Good', readingDate: date('14/02/2024')},
                    {id:8, quality: 'Fair', readingDate: date('01/03/2024')},
                    {id:9, quality: 'Poor', readingDate: date('02/03/2024')},
                    {id:10, quality: 'Poor', readingDate: date('05/03/2024')},
                    {id:11, quality: 'Very Good', readingDate: date('10/03/2024')},
                    {id:12, quality: 'Excelent', readingDate: date('11/03/2024')},
                    {id:13, quality: 'Poor', readingDate: date('09/02/2024')},
                    {id:14, quality: 'Excelent', readingDate: date('03/02/2024')},
                    {id:15, quality: 'Good', readingDate: date('24/01/2024')},
                    {id:16, quality: 'Poor', readingDate: date('29/01/2024')},
                    {id:17, quality: 'Very Good', readingDate: date('01/01/2024')},
                    {id:18, quality: 'Poor', readingDate: date('10/01/2024')},
                    {id:19, quality: 'Fair', readingDate: date('11/01/2024')},
                    {id:20, quality: 'Fair', readingDate: date('12/01/2024')},
                    {id:21, quality: 'Poor', readingDate: date('15/01/2024')},
                    {id:22, quality: 'Excelent', readingDate: date('21/02/2024')},
                    {id:23, quality: 'Excelent', readingDate: date('22/02/2024')},
                    {id:24, quality: 'Good', readingDate: date('27/02/2024')},
                    {id:25, quality: 'Good', readingDate: date('01/03/2024')}];
                
                app.$.chart.renderingHints = [
                    {entryType: {color: "green", shape: "cricle"}},              //0
                    {entryType: {color: "orange", shape: "diamond"}},            //1
                    {entryType: {color: "red", shape: "square"}},                //2
                    {entryType: {color: "yellow", shape: "cross"}},              //3
                    {entryType: {color: "cyan", shape: "wye"}},                  //4
                    {entryType: {color: "blue", shape: "diamond"}},              //5
                    {entryType: {color: "maroon", shape: "star"}},               //6
                    {entryType: {color: "purple", shape: "triangle"}},           //7
                    {entryType: {color: "olive", shape: "square"}},              //8
                    {entryType: {color: "magenta", shape: "star"}},              //9
                    {entryType: {color: "lightblue", shape: "triangle"}},        //10
                    {entryType: {color: "darkblue", shape: "circle"}},           //11
                    {entryType: {color: "brown", shape: "cross"}},               //12
                    {entryType: {color: "gray", shape: "cross"}},                //13
                    {entryType: {color: "silver", shape: "diamond"}},            //14
                    {entryType: {color: "aquamarine", shape: "star"}},           //15
                    {entryType: {color: "pink", shape: "triangle"}},             //16
                    {entryType: {color: "black", shape: "wye"}},                 //17
                    {entryType: {color: "#E9967A", shape: "wye"}},               //18
                    {entryType: {color: "#FFD700", shape: "square"}},            //19
                    {entryType: {color: "#D8BFD8", shape: "triangle"}},          //20
                    {entryType: {color: "#F5DEB3", shape: "cross"}},             //21
                    {entryType: {color: "#BC8F8F", shape: "cricle"}},            //22
                    {entryType: {color: "#A52A2A", shape: "star"}},              //23
                    {entryType: {color: "#87CEEB", shape: "wye"}},               //24
                    {entryType: {color: "#7B68EE", shape: "diamond"}}];          //25
            });
        })();
      
    </script>
</body>
</html>